// Apply custom settings
document.getElementById('crushName').textContent = getComputedStyle(document.documentElement).getPropertyValue('--crush-name').trim();
document.getElementById('yesMessage').textContent = getComputedStyle(document.documentElement).getPropertyValue('--yes-message').trim();
document.getElementById('whyMessage').textContent = getComputedStyle(document.documentElement).getPropertyValue('--why-message').trim();

// Confetti & Hearts
function createConfetti() {
  for (let i = 0; i < 50; i++) {
    let conf = document.createElement('div');
    conf.classList.add('confetti');
    conf.textContent = 'ðŸ’–';
    conf.style.left = Math.random() * 100 + 'vw';
    conf.style.fontSize = (20 + Math.random() * 30) + 'px';
    conf.style.animationDuration = (2 + Math.random() * 2) + 's';
    document.body.appendChild(conf);
    setTimeout(() => conf.remove(), 3000);
  }
}

function createHearts() {
  setInterval(() => {
    let heart = document.createElement('div');
    heart.classList.add('heart');
    heart.textContent = 'ðŸ’˜';
    heart.style.left = Math.random() * 100 + 'vw';
    heart.style.fontSize = (15 + Math.random() * 25) + 'px';
    heart.style.animationDuration = (3 + Math.random() * 3) + 's';
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 4000);
  }, 500);
}

createHearts();

function yesClick() {
  createConfetti();
  document.getElementById('question1').classList.add('hidden');
  document.getElementById('followup').classList.remove('hidden');
  document.getElementById('popupImg').style.transform = 'translate(-50%, -50%) scale(1)';
  document.getElementById('bgMusic').play();
}

function noClick() {
  alert("Haha! I knew you'd be tempted ðŸ˜");
}

// Dodging No button
const noBtn = document.getElementById('noBtn');
noBtn.addEventListener('mouseenter', () => {
  const x = Math.random() * 60 - 30;
  const y = Math.random() * 60 - 30;
  noBtn.style.transform = `translate(${x}px, ${y}px)`;
});

function whyMe() {
  document.getElementById('finalMessage').classList.remove('hidden');
}
